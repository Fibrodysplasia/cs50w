{% extends "auctions/layout.html" %}

{% block body %}
    {% if message %}
        <div>
            {{ message }}
        </div>
    {% endif %}
    <h1 style="text-align:center;">Categories</h1>
    <div style="width:100vw; display:flex; align-items:center; justify-content:center;">
        <form action="{% url 'new_category' %}" method="post" style="margin-top:20px;">
            {% csrf_token %}
            <div style="display:grid; grid-template-columns:2fr 1fr; grid-gap:0px; height:30px;">
                <div style="grid-child">
                    <input type="text" name="name" placeholder="Category Name" style="height:100%; width:100%;">
                </div>
                <div style="grid-child">
                    <button class="btn btn-outline-primary"
                            type="submit">
                        Add Category
                    </button>
                </div>
            </div>
        </form>
    </div>
    <hr>
    <div style="display:flex; align-items:center;">
        {% for category in categories %}
            <div style="margin:2rem; outline: 1px dotted; border-radius:25px; 
                    box-shadow: 5px 10px 18px #888888; padding:15px; width:17rem; height: 6rem;">
                <h3 style="text-align:center;">
                    <a href="/categories/{{ category.id }}">
                        {{ category.name }}
                    </a>
                </h3>
                <p style="text-align:center;"><strong>{{ category.listings.count }}</strong> Items</p>
            </div>
        {% empty %}
            <p>No categories found.</p>
        {% endfor %}
        </div>
{% endblock %}